/**********************************************************************************
*  File generated by Segger's emUSBD Audio Device Generator tool Version 1.01
*
*  Generated: 2024-05-10 11:26:40
*  from file: speaker_mic_configs.uad
*
**********************************************************************************/

// This configuration models an USB audio 1.0 device containing a speaker and a microphone,
// each connected to an USB endpoint:
//
//   +-------------+       +---------------+       +-------------------+
//   |             |       | Feature Unit  |       |                   |
//   |   Speaker   +<------+               +<------+  USB OUT endpoint |
//   |             |       | Mute / Volume |       |                   |
//   +-------------+       +---------------+       +-------------------+
//
//   +-------------+       +---------------+       +-------------------+
//   |             |       | Feature Unit  |       |                   |
//   | Microphone  +------>+               +------>+  USB IN endpoint  |
//   |             |       | Mute / Volume |       |                   |
//   +-------------+       +---------------+       +-------------------+
//
// The speaker uses two 16-bit channels (stereo) with sample frequencies 16000Hz.
// The microphone has a single 16-bit channel (stereo) with a sample frequencies 16000Hz.


#include "USB_AC.h"


#if USBD_AC_GENERATOR_FORMAT != 1
  #error "Incompatibe data structures"
#endif


//
// Class-Specific AC Interface Descriptor
//
static const U8 _ControlDesc[] = {
  // Class-Specific AC Interface Header Descriptor
  0x0a,                      // bLength
  0x24,                      // bDescriptorType
  0x01,                      // bDescriptorSubtype
  0x00, 0x01,                // bcdADC
  0x47, 0x00,                // wTotalLength
  0x02,                      // bInCollection
  0x00,                      // baInterfaceNr
  0x00, 
  // Input Terminal Descriptor
  0x0c,                      // bLength
  0x24,                      // bDescriptorType
  0x02,                      // bDescriptorSubtype
  0x01,                      // bTerminalID
  0x01, 0x01,                // wTerminalType
  0x00,                      // bAssocTerminal
  0x02,                      // bNrChannels
  0x03, 0x00,                // bmChannelConfig
  0x00,                      // iChannelNames
  0x00,                      // iTerminal
  // Feature Unit Descriptor
  0x0a,                      // bLength
  0x24,                      // bDescriptorType
  0x06,                      // bDescriptorSubtype
  0x02,                      // bUnitID
  0x01,                      // bSourceID
  0x01,                      // bControlSize
  0x03,                      // bmaControls
  0x00, 
  0x00, 
  0x00,                      // iFeature
  // Output Terminal Descriptor
  0x09,                      // bLength
  0x24,                      // bDescriptorType
  0x03,                      // bDescriptorSubtype
  0x03,                      // bTerminalID
  0x01, 0x03,                // wTerminalType
  0x00,                      // bAssocTerminal
  0x02,                      // bSourceID
  0x10,                      // iTerminal
  // Input Terminal Descriptor
  0x0c,                      // bLength
  0x24,                      // bDescriptorType
  0x02,                      // bDescriptorSubtype
  0x04,                      // bTerminalID
  0x01, 0x02,                // wTerminalType
  0x00,                      // bAssocTerminal
  0x01,                      // bNrChannels
  0x04, 0x00,                // bmChannelConfig
  0x00,                      // iChannelNames
  0x11,                      // iTerminal
  // Feature Unit Descriptor
  0x09,                      // bLength
  0x24,                      // bDescriptorType
  0x06,                      // bDescriptorSubtype
  0x05,                      // bUnitID
  0x04,                      // bSourceID
  0x01,                      // bControlSize
  0x03,                      // bmaControls
  0x00, 
  0x00,                      // iFeature
  // Output Terminal Descriptor
  0x09,                      // bLength
  0x24,                      // bDescriptorType
  0x03,                      // bDescriptorSubtype
  0x06,                      // bTerminalID
  0x01, 0x01,                // wTerminalType
  0x00,                      // bAssocTerminal
  0x05,                      // bSourceID
  0x00                       // iTerminal
};

//
// Class-Specific AS Interface Descriptor
//
static const U8 _StreamDesc_0_1[] = {
  // Class-Specific AS Interface Header Descriptor
  0x07,                      // bLength
  0x24,                      // bDescriptorType
  0x01,                      // bDescriptorSubtype
  0x01,                      // bTerminalLink
  0x00,                      // bDelay
  0x01, 0x00,                // wFormatTag
  // Type I Format Type Descriptor
  0x0b,                      // bLength
  0x24,                      // bDescriptorType
  0x02,                      // bDescriptorSubtype
  0x01,                      // bFormatType
  0x02,                      // bNrChannels
  0x02,                      // bSubframeSize
  0x10,                      // bBitResolution
  0x01,                      // bSamFreqType
  0x80, 0x3e, 0x00           // tSamFreq
};

//
// Class-Specific AS Isochronous Audio Data Endpoint Descriptor
//
static const U8 _StreamEPDesc_0_1[] = {
  0x07,                      // bLength
  0x25,                      // bDescriptorType
  0x01,                      // bDescriptorSubtype
  0x01,                      // bmAttributes
  0x00,                      // bLockDelayUnits
  0x00, 0x00                 // wLockDelay
};

//
// Class-Specific AS Interface Descriptor
//
static const U8 _StreamDesc_1_1[] = {
  // Class-Specific AS Interface Header Descriptor
  0x07,                      // bLength
  0x24,                      // bDescriptorType
  0x01,                      // bDescriptorSubtype
  0x06,                      // bTerminalLink
  0x00,                      // bDelay
  0x01, 0x00,                // wFormatTag
  // Type I Format Type Descriptor
  0x0b,                      // bLength
  0x24,                      // bDescriptorType
  0x02,                      // bDescriptorSubtype
  0x01,                      // bFormatType
  0x02,                      // bNrChannels
  0x02,                      // bSubframeSize
  0x10,                      // bBitResolution
  0x01,                      // bSamFreqType
  0x80, 0x3e, 0x00           // tSamFreq
};

//
// Class-Specific AS Isochronous Audio Data Endpoint Descriptor
//
static const U8 _StreamEPDesc_1_1[] = {
  0x07,                      // bLength
  0x25,                      // bDescriptorType
  0x01,                      // bDescriptorSubtype
  0x01,                      // bmAttributes
  0x00,                      // bLockDelayUnits
  0x00, 0x00                 // wLockDelay
};

//
// String table
//
static const char * const _Strings[] = {
  "Speaker",
  "Microphone",
  "Audio Speaker",
  "Audio Microphone"
};

//
// Endpoint table
//
static const USBD_AC_EP_INFO _Endpoints[] = {
  {  1, 0, {    64,    8, USB_ADD_EP_FLAG_USE_ISO_SYNC_TYPES, USB_DIR_OUT, USB_TRANSFER_TYPE_ISO,  USB_ISO_SYNC_TYPE_SYNCHRONOUS }},
  {  2, 0, {    64,    8, USB_ADD_EP_FLAG_USE_ISO_SYNC_TYPES, USB_DIR_IN,  USB_TRANSFER_TYPE_ISO,  USB_ISO_SYNC_TYPE_SYNCHRONOUS }}
};

//
// Interface info for interface 'Speaker'
//
static const USBD_AC_INTF_INFO _Interface_0[] = {
  {            // Alt setting 0
      18,      // String index
      -1,      // Data EP index
      -1,      // Feedback EP index
    0,
    NULL,
    NULL,
    0,
    {
       0,      // MaxPacketSize
       0,      // IntervalExp
       0,      // NrChannels
       0,      // SubframeSize
       0       // BitResolution
    }
  },
  {            // Alt setting 1
      18,      // String index
       0,      // Data EP index
      -1,      // Feedback EP index
    sizeof(_StreamEPDesc_0_1),
    _StreamEPDesc_0_1,
    _StreamDesc_0_1,
    sizeof(_StreamDesc_0_1),
    {
      64,      // MaxPacketSize
       3,      // IntervalExp
       2,      // NrChannels
       2,      // SubframeSize
      16       // BitResolution
    }
  }
};

//
// Interface info for interface 'Microphone'
//
static const USBD_AC_INTF_INFO _Interface_1[] = {
  {            // Alt setting 0
      19,      // String index
      -1,      // Data EP index
      -1,      // Feedback EP index
    0,
    NULL,
    NULL,
    0,
    {
       0,      // MaxPacketSize
       0,      // IntervalExp
       0,      // NrChannels
       0,      // SubframeSize
       0       // BitResolution
    }
  },
  {            // Alt setting 1
      19,      // String index
       1,      // Data EP index
      -1,      // Feedback EP index
    sizeof(_StreamEPDesc_1_1),
    _StreamEPDesc_1_1,
    _StreamDesc_1_1,
    sizeof(_StreamDesc_1_1),
    {
      64,      // MaxPacketSize
       3,      // IntervalExp
       2,      // NrChannels
       2,      // SubframeSize
      16       // BitResolution
    }
  }
};

//
// Interface list
//
static const USBD_AC_INTF_LIST _InterfaceList[] = {
  { 2, 0, _Interface_0 },
  { 2, 1, _Interface_1 }
};

//
// Configuration for 'speaker_mic_configs'
//
extern const USBD_AC_CONFIG USB_AC_Config_speaker_mic_configs;

const USBD_AC_CONFIG USB_AC_Config_speaker_mic_configs = {
   1,        // Generator major version
   0,        // USB audio protocol version
   2,        // Number of streaming interfaces
   2,        // Number of endpoints
  16,        // Index of first string in string table
   4,        // Number of strings in string table
   0,        // String index for control interface.
  sizeof(_ControlDesc),
  _ControlDesc,              // Control interface descriptor
  _InterfaceList,            // Streaming interfaces
  _Endpoints,                // Endpoint list
  _Strings                   // String descriptors
};
